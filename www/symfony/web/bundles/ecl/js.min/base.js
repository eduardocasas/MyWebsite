$(document).ready(function(){function i(){var i=$(window).scrollTop(),n=i+$(window).height(),e=a.offset().top,o=e+a.height();return n>=o&&e>=i}function n(){i()?t.css("max-height",$(window).height()-o.height()-a.height()):t.css("max-height",$(window).height()-o.height())}$("#language").change(function(){window.location.href=$(":selected",$(this)).data("url")});var e="none"==$("#sidebar").css("display"),o=$("#header"),a=$("#footer"),t=$("#nav"),d=!1;e&&n(),$("#display_sidebar_button").click(function(){d?(t.animate({marginLeft:"-="+(t.width()+1)+"px"}),$("#disable_background_on_sidebar").animate({opacity:"-=0.5"}).promise().done(function(){$("#disable_background_on_sidebar").hide()}),d=!1):($("#disable_background_on_sidebar").show(),t.animate({marginLeft:"+="+(t.width()+1)+"px"}),$("#disable_background_on_sidebar").animate({opacity:"+=0.5"}),d=!0)}),$(window).on("resize",function(){e="none"==$("#sidebar").css("display"),e?n():o.show()});var s=0;$(window).scroll(function(){if(e){var i=$(this).scrollTop();i>s?$(document).scrollTop()<o.height()?o.slideDown():d||o.hide():o.slideDown(),s=i}})});